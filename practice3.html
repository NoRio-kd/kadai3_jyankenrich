<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/quizcopy.css">
    <link rel="stylesheet" href="./css/reset.css">
</head>
<body>
    <!-- å•é¡Œ -->
    <div id="quiz">
        <div id="question">ã“ã“ã«å•é¡ŒãŒå…¥ã‚Šã¾ã™</div>
        <div class="choices">
            <button class="choice" id="choice1">é¸æŠ1</button>
            <button class="choice" id="choice2">é¸æŠ2</button>
            <button class="choice" id="choice3">é¸æŠ3</button>
            <button class="choice" id="choice4">é¸æŠ4</button>
        </div>
        <!-- æ¬¡ã¸ãƒœã‚¿ãƒ³ -->    
        <button id="next-btn">æ¬¡ã¸</button>
    </div>
    <!-- çµæœ -->
     <div id="result" class="hide">
        <h2>çµæœ</h2>
        <p id="score">ã“ã“ã«ã‚¹ã‚³ã‚¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p>
     </div>
    
    <!-- ã“ã“ã‹ã‚‰js -->
    <script>


    // é…åˆ—ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸‰ã¤æ ¼ç´
    const quizData =[
        {   question: "where is the capital of Tokyo?",
            choices:  ["tokyo","Kyoto","Osaka","Fukuoka"],
            result: 1
        },
        {   question: "where is the capital of Tokyo?",
            choices:  ["tokyo","Kyoto","Osaka","Fukuoka"],
            result: 1
        },
        {   question: "where is the capital of Tokyo?",
            choices:  ["tokyo","Kyoto","Osaka","Fukuoka"],
            result: 1
        },
    ];
    // å¤‰æ•°ã®æŒ‡å®š
      let currentQuiz = 0;      //ç¾åœ¨ã®quizç•ªå·   
      let score = 0;      //userãŒæ­£è§£ã—ãŸæ•°ã®ã‚«ã‚¦ãƒ³ãƒˆ
    
    // HTMLè¦ç´ ã®å–å¾—
    const questionEl = document.getElementById("question");
    const choiceEl = document.querySelectorAll(".choice")
    const resultEl = document.getElementById('result')
    const scoreEl = document.getElementById('score')

    // quizã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ loadQuizã¨ã„ã†é–¢æ•°ã‚’å®šç¾©ã—ã¦ã‚‹ï¼ˆå®Ÿè¡Œã•ã‚Œã¦ãªã„ï¼‰
    function loadQuiz(){
        const currentQuizData = quizData[currentQuiz]; //currentQuizDataã‚’å®šç¾©ã™ã‚‹
        questionEl.textContent = currentQuizData.question;          //currentQuizDataã®Questionã‹ã‚‰è³ªå•ã‚’æŠœãå‡ºã—ã¦è¡¨ç¤º
        choiceEl.forEach(function(choiceEl,index){                     //classå±æ€§ãŒchoiceã®å…¨ã¦ã€‚(choiceEl,index)ã¯ãµã‰rEachã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°

            choiceEl.textContent = currentQuizData.choices[index]; //
            choiceEl.classList.remove('correct','wrong')     //jqueryã§ã„ã†addclass
        });
        nextBtb.style.display = 'none' //æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã€‚è¦ç´ .style.css propertyå=valueå€¤
    }
    
    // ç­”ãˆã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ğŸŒ·
    //ğŸ’æ¬¡ã®ã‚¯ã‚¤ã‚ºã¾ãŸã¯çµæœè¡¨ç¤ºğŸŒ·â‡¨ã“ã“ã§checkAnsweré–¢æ•°ã‚’å®šç¾©ã—ã¦ã‚‹
    function checkAnswer(index){        //é–¢æ•°ã®å®šç¾©ğŸ³
        const currentQuizData = quizData[currentQuiz];
        if(index == currentQuizData.correct){
            score++;
            choiceEl[index].classList.add('correct');
        }else{
            choiceEl[index].classList.add('wrong');
        }
        nextBtb.style.display = 'block' //è¦ç´ .style.css propertyå=valueå€¤
    }
    
    //ğŸ’é¸æŠè‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ğŸŒ·
    choiceEl.forEach(function(choiceEl,index){      //forEachã®ä¸­ã§ç„¡åé–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
        choiceEl.addEventListener('click',function(){
            if(nextBtb.styly.display == 'block') return;
            checkAnswer(index);
        });
    });

    // æ¬¡ã®å•é¡Œã¾ãŸã¯çµæœè¡¨ç¤º
    nextBtb.addEventListener('click',function(){
        currentQuiz++;  //ç¾åœ¨ã®ã‚¯ã‚¤ã‚ºç•ªå·ã‚’ä¸€ã¤é€²ã‚ã‚‹
        if(currentQuiz<quizData.length){    //ã‚‚ã—å…¨ã¦ã®ã‚¯ã‚¤ã‚ºãŒçµ‚äº†ã—ã¦ãŸã‚‰ã€displayResule()é–¢æ•°ãŒyæ™´ã‚Œçµæœã‚’è¡¨ç¤º
            loadQuiz();
        }else{
            displayResult();
        }
    });


    function displayResult(){   //é–¢æ•°ã®å®šç¾©ğŸ³
            document.getElementById('quiz').classList.add('hide');
            resultEl.classList.remove('hide');
            scoreEl.textContent = `Your score is ${score}/${quizData.length}`;
                   }
                   
    //displayresultã®å®šç¾©ã€‚ã‚¯ã‚¤ã‚ºãŒçµ‚ã‚ã£ãŸå¾Œã«çµæœã‚’è¡¨ç¤ºã™ã‚‹
     //HTMLè¦ç´ hideã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸ã™ã‚‹ã€‚
              //ã‚¯ã‚¤ã‚ºã®ç”»é¢ã‚’éš ã™
        //scoreã‚’è¡¨ç¤ºã™ã‚‹
    

    //
    loadQuiz();

    </script>
</body>
</html>