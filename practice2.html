<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/quizcopy.css">
    <link rel="stylesheet" href="./css/reset.css">
</head>
<body>
    <!-- å•é¡Œ -->
    <div id="quiz">
        <div id="question">ã“ã“ã«å•é¡ŒãŒå…¥ã‚Šã¾ã™</div>
        <div class="choices">
            <button class="choice" id="choice1">é¸æŠ1</button>
            <button class="choice" id="choice2">é¸æŠ2</button>
            <button class="choice" id="choice3">é¸æŠ3</button>
            <button class="choice" id="choice4">é¸æŠ4</button>
        </div>
        <!-- æ¬¡ã¸ãƒœã‚¿ãƒ³ -->    
        <button id="next-btn">æ¬¡ã¸</button>
    </div>
    <!-- çµæœ -->
     <div id="result" class="hide">
        <h2>çµæœ</h2>
        <p id="score">ã“ã“ã«ã‚¹ã‚³ã‚¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p>
     </div>
    
    <!-- ã“ã“ã‹ã‚‰js -->
    <script>


    // é…åˆ—ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸‰ã¤æ ¼ç´
    const quizData = [
        {
            question: "where is the capital of japan?",
            choices: ["tokyo","osaka","kyoto","fukuoka"],
            correct: 1
        },
        {
            question: "where is the capital of japan?",
            choices: ["tokyo","osaka","kyoto","fukuoka"],
            correct: 1

        },
        {
            question: "where is the capital of japan?",
            choices: ["tokyo","osaka","kyoto","fukuoka"],
            correct: 1
        },
    ]
    
    // å¤‰æ•°ã®æŒ‡å®š
    let currentQuiz = 0;    //ç¾åœ¨ã®quizç•ªå·   
    let score = 0;          //userãŒæ­£è§£ã—ãŸæ•°ã®ã‚«ã‚¦ãƒ³ãƒˆ
    
    // HTMLè¦ç´ ã®å–å¾—
    const questionEl = document.getElementById('question');
    const choiceEl = document.querySelectorAll('.choice');
    const nextBtn = document.getElementById('next-btn');
    const resultEl = document.getElementById('result');
    const scoreEl = document.getElementById('score')

    // quizã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ loadQuizã¨ã„ã†é–¢æ•°ã‚’å®šç¾©ã—ã¦ã‚‹ï¼ˆå®Ÿè¡Œã•ã‚Œã¦ãªã„ï¼‰
    function loadQuiz(){
        const currentQuizData = quizData[currentQuiz];      //currentQuizDataã‚’å®šç¾©ã™ã‚‹
        questionEl.textContent = currentQuizData.question;  //currentQuizDataã®Questionã‹ã‚‰è³ªå•ã‚’æŠœãå‡ºã—ã¦è¡¨ç¤º
        choiceEl.forEach(function(choiceEl,index){          //
            choiceEl.textContent = currentQuizData.choices[index];
            choiceEl.classList.remove('correct','wrong');   //jqueryã§ã„ã†addclass
        });
        nextBtn.style.display ='none'                       //æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã€‚è¦ç´ .style.css propertyå=valueå€¤
    }

    // ç­”ãˆã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ğŸŒ·
    //ğŸ’æ¬¡ã®ã‚¯ã‚¤ã‚ºã¾ãŸã¯çµæœè¡¨ç¤ºğŸŒ·â‡¨ã“ã“ã§checkAnsweré–¢æ•°ã‚’å®šç¾©ã—ã¦ã‚‹
    function checkAnswer(index){
        const currentQuizData = quizData[currentQuiz];
        if (index==currentQuizData.correct){
            score++;
            choiceEl[index].classList.add('correct'); //åˆã£ã¦ãŸã‚‰ã‚¯ãƒ©ã‚¹ã‚’correctã‚’è¿½åŠ 
        }else {
            choiceEl[index].classList.add('wrong');   //é–“é•ã£ã¦ã„ãŸã‚‰ã‚¯ãƒ©ã‚¹wrongã‚’è¿½åŠ 
        }
        nextBtn.style.display = 'block';               //æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹
    }

    //ğŸ’é¸æŠè‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ğŸŒ·
    checkEL.forEach(function(choiceEl, index){
        choiceEl.addeventlistner('click',function(){
            if(nextBtn.style.display =='block') return;
            checkAnswer(index);
        });
    });
    
    // æ¬¡ã®å•é¡Œã¾ãŸã¯çµæœè¡¨ç¤º
    nextBtn.addEventListener('click',function(){    //æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ã‚¯ã‚¤ã‚ºã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹
        currentQuiz++;                              //ç¾åœ¨ã®ã‚¯ã‚¤ã‚ºç•ªå·ã‚’ä¸€ã¤é€²ã‚ã‚‹
        if(qurrentQuiz < quizData.length){
            loadQuiz();
        }else{
            displayResulet();                       //ã‚‚ã—å…¨ã¦ã®ã‚¯ã‚¤ã‚ºãŒçµ‚äº†ã—ã¦ãŸã‚‰ã€displayResule()é–¢æ•°ãŒyæ™´ã‚Œçµæœã‚’è¡¨ç¤º
        }
    });
    
    function displayResult() {                      //displayresultã®å®šç¾©ã€‚ã‚¯ã‚¤ã‚ºãŒçµ‚ã‚ã£ãŸå¾Œã«çµæœã‚’è¡¨ç¤ºã™ã‚‹
        document.getElementById('quiz').classList.add('hide'); //HTMLè¦ç´ hideã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸ã™ã‚‹ã€‚
        resultEl.classList.remove('hide');          //ã‚¯ã‚¤ã‚ºã®ç”»é¢ã‚’éš ã™
        socoreEl.textContent = `Your score is ${score}/${quizData.length}`; //scoreã‚’è¡¨ç¤ºã™ã‚‹
      }

    //
    loadQuiz();

    </script>
</body>
</html>